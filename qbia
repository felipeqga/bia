#!/bin/bash

# QBIA - Sistema de contexto completo + FastMCP automÃ¡tico
# Carrega todos os arquivos .md do projeto BIA e inicia FastMCP

echo "ğŸš€ SISTEMA QBIA - Carregando contexto completo do projeto BIA"
echo "================================================================"

# Iniciar FastMCP automaticamente
echo "âš¡ Iniciando FastMCP em background..."
/home/ec2-user/bia/scripts/start-fastmcp.sh

echo ""
echo "ğŸ“š Carregando contexto completo do projeto BIA..."
echo "ğŸ“ DiretÃ³rio: /home/ec2-user/bia"
echo "ğŸ“„ Arquivos .md encontrados:"

# Contar e listar arquivos .md
MD_COUNT=$(find /home/ec2-user/bia -name "*.md" -type f -not -path "*/node_modules/*" | wc -l)
echo "ğŸ“Š Total: $MD_COUNT arquivos .md"

echo ""
echo "âœ… SISTEMA QBIA ATIVO:"
echo "   ğŸ¤– Amazon Q: Contexto completo carregado"
echo "   âš¡ FastMCP: Servidor rodando em background"
echo "   ğŸ”§ MCP Servers: 4 servidores ativos (filesystem + ECS + postgres + FastMCP)"
echo ""
echo "ğŸ¯ Agora vocÃª pode fazer perguntas sobre o projeto BIA!"
echo "   - InformaÃ§Ãµes do projeto"
echo "   - Comandos AWS personalizados"
echo "   - AnÃ¡lise de arquivos"
echo "   - OperaÃ§Ãµes de infraestrutura"
echo ""

# Executar Amazon Q
exec q
